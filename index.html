<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8"/>
    <title>ورود</title>
    <link rel="stylesheet" href="assets/css/animate.min.css"/>
    <link rel="stylesheet" href="assets/css/fontawesome.min.css"/>
    <link rel="stylesheet" href="assets/css/style.css"/>
    <script src="assets/js/tailwind.js"></script>
    <script src="assets/js/fontawesome.js"></script>
    <script src="assets/js/main.js"></script>
    <style>
        @font-face {
            font-family: iran-sans;
            src: url(assets/fonts/IranianSans.ttf);
        }

        body {
            font-family: iran-sans, serif;
        }
    </style>
</head>
<body class="bg-gray-100" dir="rtl">
<div class="w-screen h-screen flex flex-col items-center justify-center bg-gray-100 text-center px-4">
    <i class="fa-solid fa-wifi text-gray-600 text-[300px]"></i>
    <h1 class="text-2xl font-semibold my-4 text-red-800 text-[50px]">شما آفلاین هستید.</h1>
    <p class="text-gray-600 mb-6 text-[30px]">برای ادامه، اتصال به اینترنت را بررسی کنید.</p>

    <button onclick="retryConnection()" class="px-6 py-2 my-4 border-2 border-blue-2 text-blue-2 text-[40px] rounded-xl hover:bg-blue-700 transition">
        تلاش مجدد
    </button>

    <p id="status" class="mt-4 text-sm text-gray-500 hidden text-[30px]">در حال بررسی اتصال...</p>
</div>

<script>
    function retryConnection() {
        const status = document.getElementById("status");
        status.classList.remove("hidden");

        if (navigator.onLine) {
            location.reload();
        } else {
            setTimeout(() => {
                if (navigator.onLine) {
                    location.reload();
                } else {
                    status.innerText = "هنوز آفلاین هستید. لطفاً دوباره تلاش کنید.";
                }
            }, 1500);
        }
    }

    function checkConnection() {
        if (navigator.onLine) {
            window.location.href = "home.html";
        } else {
            const msg = document.getElementById("offline-msg");
            msg.classList.remove("d-none", "animate__fadeOut");
            msg.classList.add("animate__fadeIn");
        }
    }

    checkConnection();
</script>
</body>
</html>
